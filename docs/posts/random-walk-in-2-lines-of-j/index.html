<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Asindu Drileba - https://asindu.xyz"><title>Random walk in 2 lines of J | Asindu's Journal</title>
<meta name=description content="A public journal about thoughts going through Asindu's head."><meta name=twitter:card content="summary"><meta name=twitter:title content="Random walk in 2 lines of J"><meta name=twitter:description content="Of all the many programming languages, none has quite caught my attention like the &ldquo;Iversonian&rdquo; programming languages, that is, languages like APL, Shakti, Ivy, BQN and J - the subject of this blog post.
One misconception is that languages like J are in the same caliber as Brain F**k and other esoteric or golfing languages which are mostly for recreational programming. Languages like J however were designed to be a replacement to traditional maths notation - an interface for thinking or a tool of thought as their inventor Kenneth E."><meta property="og:title" content="Random walk in 2 lines of J"><meta property="og:description" content="Of all the many programming languages, none has quite caught my attention like the &ldquo;Iversonian&rdquo; programming languages, that is, languages like APL, Shakti, Ivy, BQN and J - the subject of this blog post.
One misconception is that languages like J are in the same caliber as Brain F**k and other esoteric or golfing languages which are mostly for recreational programming. Languages like J however were designed to be a replacement to traditional maths notation - an interface for thinking or a tool of thought as their inventor Kenneth E."><meta property="og:type" content="article"><meta property="og:url" content="https://asindu.xyz/posts/random-walk-in-2-lines-of-j/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-08T00:00:00+00:00"><meta property="article:modified_time" content="2022-10-08T00:00:00+00:00"><meta itemprop=name content="Random walk in 2 lines of J"><meta itemprop=description content="Of all the many programming languages, none has quite caught my attention like the &ldquo;Iversonian&rdquo; programming languages, that is, languages like APL, Shakti, Ivy, BQN and J - the subject of this blog post.
One misconception is that languages like J are in the same caliber as Brain F**k and other esoteric or golfing languages which are mostly for recreational programming. Languages like J however were designed to be a replacement to traditional maths notation - an interface for thinking or a tool of thought as their inventor Kenneth E."><meta itemprop=datePublished content="2022-10-08T00:00:00+00:00"><meta itemprop=dateModified content="2022-10-08T00:00:00+00:00"><meta itemprop=wordCount content="1204"><meta itemprop=keywords content="finance,apl,J,"><link rel=canonical href=https://asindu.xyz/posts/random-walk-in-2-lines-of-j/><link rel=dns-prefetch href=https://www.google-analytics.com><link href=https://www.google-analytics.com rel=preconnect crossorigin><link rel=alternate type=application/atom+xml title="Asindu's Journal" href=https://asindu.xyzatom.xml><link rel=alternate type=application/json title="Asindu's Journal" href=https://asindu.xyzfeed.json><link rel="shortcut icon" type=image/png href=/favicon.ico><style>*,:after,:before{box-sizing:border-box;padding:0}body{font:1rem/1.5 '-apple-system',BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,ubuntu,roboto,noto,segoe ui,arial,sans-serif;text-rendering:optimizeSpeed;background-color:#191919}.posts hr{margin-top:0;margin-bottom:0;margin-right:.5rem;margin-left:.5rem;height:1px;border:none;border-bottom:1px #ecdbba;flex:1 0 1rem}main{max-width:70ch;padding:2ch;margin:auto}::placeholder{padding-left:10px}a,body{color:#ecdbba}::selection,a:focus,a:hover{color:#c84b31}.meta{margin:0 0 2.5rem}.tags::before{content:"\2022";margin-left:1rem}code,pre{color:#fff;font-family:San Francisco Mono,Monaco,consolas,lucida console,dejavu sans mono,bitstream vera sans mono,monospace;font-size:normal;border:1px solid #ecdbba;font-size:small}code{padding:.1rem;border:none}pre{padding:.5rem;overflow-x:auto}pre code{border:none}img{max-width:100%;border:1px solid #2d4263}hr{background:#2d4263;height:1px;border:0}ul{list-style-type:square}ul,ol{padding-left:1.2rem}header li,footer li{display:inline;color:#c84b31}header a,footer a{text-decoration:none}header ul,footer ul{justify-content:space-between;display:flex}h1,h2,h3,h4,h5,h6{color:#c84b31}strong{color:#fff}[aria-current=page]{color:#c84b31}header,section,footer{padding:1rem 0}blockquote{border-left:5px solid #ecdbba;padding-left:1rem}.posts ul,header ul,footer ul{list-style:none}.posts,header ul,footer ul{padding:0}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:.7rem}.posts li a,.posts li div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}time{color:#fff}.hash{opacity:.25;text-decoration:none}table{border-collapse:collapse;text-align:left;width:100%}table tr{background:#fff;border-bottom:1px solid}table th,table td{padding:10px 20px}a.footnote-ref{color:#c84b31}#adsense-unit{margin-top:20px;display:none}</style><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Random walk in 2 lines of J","headline":"Random walk in 2 lines of J","alternativeHeadline":"","description":"Of all the many programming languages, none has quite caught my attention like the \u0026ldquo;Iversonian\u0026rdquo; programming languages, that is, languages like APL, Shakti, Ivy, BQN and J - the subject of this blog post.\nOne misconception is that languages like J are in the same caliber as Brain F**k and other esoteric or golfing languages which are mostly for recreational programming. Languages like J however were designed to be a replacement to traditional maths notation - an interface for thinking or a tool of thought as their inventor Kenneth E.","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/asindu.xyz\/posts\/random-walk-in-2-lines-of-j\/"},"author":{"@type":"Person","name":"Asindu Drileba"},"creator":{"@type":"Person","name":"Asindu Drileba"},"accountablePerson":{"@type":"Person","name":"Asindu Drileba"},"copyrightHolder":"Asindu\u0027s Journal","copyrightYear":"2022","dateCreated":"2022-10-08T00:00:00.00Z","datePublished":"2022-10-08T00:00:00.00Z","dateModified":"2022-10-08T00:00:00.00Z","publisher":{"@type":"Organization","name":"Asindu's Journal","url":"https://asindu.xyz","logo":{"@type":"ImageObject","url":"https:\/\/asindu.xyz","width":"32","height":"32"}},"image":"https://asindu.xyz","url":"https:\/\/asindu.xyz\/posts\/random-walk-in-2-lines-of-j\/","wordCount":"1204","genre":["finance","apl","J"],"keywords":["finance","apl","J"]}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-S97K3JXL5P"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-S97K3JXL5P",{anonymize_ip:!1})}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7932960094058650" crossorigin=anonymous></script></head><body><main><header><nav><ul><li><a href=/>ø Asindu's Journal</a></li><li><a href=/about>∞ About</a></li><li><a href=/atom.xml>§ RSS</a></li></ul></nav><form action=https://buttondown.email/api/emails/embed-subscribe/asindu method=post target=popupwindow onsubmit='window.open("https://buttondown.email/asindu","popupwindow")' class=embeddable-buttondown-form><input type=email name=email id=bd-email style=height:30px;width:200px placeholder=steve.jobs@gmail.com>
<input type=submit value=Subscribe style=height:30px;width:100px></form><div id=adsense-unit><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7932960094058650" crossorigin=anonymous></script><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7932960094058650 data-ad-slot=7467586239 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></header><hr><section><h2 itemprop="name headline"><span style=color:#ecdbba>0004</span> Random walk in 2 lines of J</h2><p>by
<b><a href=/about>Asindu</a></b></p><p class=meta><time itemprop=datePublished datetime=2022-10-08>October 08, 2022</time> &bull;
<a style=color:#7fffd4 href=/tags/finance>finance</a>, <a style=color:#7fffd4 href=/tags/apl>apl</a>, <a style=color:#7fffd4 href=/tags/j>J</a></p><span itemprop=articleBody><p>Of all the many programming languages, none has quite caught my attention like the &ldquo;Iversonian&rdquo;
programming languages, that is, languages like <a href=https://tryapl.org/>APL</a>, <a href=https://estradajke.github.io/k9-simples/k9/index.html>Shakti</a>, <a href=https://pkg.go.dev/robpike.io/ivy>Ivy</a>, <a href=https://mlochbaum.github.io/BQN/>BQN</a> and <a href=http://www.jsoftware.com/>J</a> - the subject of this blog post.</p><p>One misconception is that languages like J are in the same caliber as <a href=https://en.wikipedia.org/wiki/Brainfuck>Brain F**k</a> and other <a href=https://esolangs.org/wiki/Main_Page>esoteric</a> or <a href=https://github.com/topics/golfing-language>golfing</a> languages which are mostly for recreational programming.
Languages like J however were designed to be a replacement to traditional maths notation - an interface for thinking or a <a href=https://www.jsoftware.com/papers/tot.htm>tool of thought</a> as their inventor <a href=https://en.wikipedia.org/wiki/Kenneth_E._Iverson>Kenneth E. Iverson</a> called them in his Turing Award lecture.</p><p>In this blog post I am going to introduce the J programming language by using it as a &ldquo;tool of thought&rdquo; to explain the 1 dimensional random walk.</p><hr><p>To try out the code yourself you will have to install the J interpreter. The easiest way to get it working on Mac is through running the <a href=https://formulae.brew.sh/cask/j>brew formula</a> <code>brew install --cask j</code>. For other platforms,
see the <a href=https://code.jsoftware.com/wiki/System/Installation/J903/Zips>installation instructions</a>.</p><h2 id=first-a-random-walk-in-5-lines>First, a random walk in 5 lines. <a href=#first-a-random-walk-in-5-lines class=hash>#</a></h2><p>The 1 dimensional random walk is a toy model used in finance for creating what may look like stock market prices.
In it&rsquo;s simplest form, a 1 dimensional random walk consists of;</p><ul><li>Several steps (a list of values), and at each step (for each value) it is either up (indicated by <code>+1</code>) or down (indicated by <code>-1</code>).</li><li>Note that the value of each step <code>-1</code> or <code>+1</code> is chosen at random. Hence the term &lsquo;random walk&rsquo;. So a random walk is basically a list of <code>-1</code> and <code>+1</code> generated at random.</li><li>To attain the &lsquo;synthetic price&rsquo; or what looks like stock prices, we simply compute the running sum of this list of random <code>-1</code> and <code>+1</code> integers.</li></ul><p>The entire toy model of prices we described above is created using the J code below. Let me describe how.</p><pre><code class=language-j>load 'plot' NB. Import the utility for plotting  charts
indices     =: ? 100#2          NB. Generate indices
walks       =: indices { _1 1   NB. Use indices to create list of -1 &amp; +1 integers
running_sum =: +/\ walks        NB. Compute synthetic price
plot running_sum                NB. Plot the running sum
</code></pre><h3 id=generating-indices>Generating indices. <a href=#generating-indices class=hash>#</a></h3><p>An index refers to the position of an item in a list. For example, the list <code>1 2 3 4</code> has the indices <code>0</code> for <code>1</code>, <code>2</code>, <code>3</code>, with the index <code>0</code> referring to <code>1</code>, the index <code>1</code> referring to <code>2</code>, the index <code>2</code> referring to <code>3</code> and the index <code>3</code> referring to <code>4</code>.</p><p>Line 2, <code>indices =: ? 100#2</code> generates indices as follows.
The <code>#</code> symbol takes in two values <code>2</code> and <code>100</code> and what it does is that it &ldquo;copies&rdquo; <code>2</code> into an list <code>100</code> times. For example <code>5#1</code> copies <code>1</code> five times to give <code>1 1 1 1 1</code>. So <code>100#2</code> returns <code>2 2 2 2 2 2 2 2 2 2 ... 2</code> up to the 100&rsquo;th <code>2</code>.</p><p>The <code>?</code> symbol generates random numbers, you can think of it as rolling a dice. For example, <code>? 5</code> may randomly return <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code> or <code>4</code>. So <code>? 5</code> can be read as &ldquo;generate a random number below 5&rdquo;, <code>0</code> is included since the values <code>?</code> generates are always greater than or equal to <code>0</code>.</p><p>And finally to generate a list of random numbers, we simply give <code>?</code> a list of numbers for example <code>? 3 3 3 3 3</code> may generate <code>1 1 0 2 2</code> i.e 5 random numbers under <code>3</code>.
Recall that in line 2, <code>100#2</code> generates a list of one hundred <code>2</code>&rsquo;s. <code>?</code> then takes the list of one hundred <code>2</code>&rsquo;s and for each <code>2</code> it generates a random number less than <code>2</code> i.e <code>0</code> or <code>1</code>.</p><p><code>? 100#2</code> can be read as &ldquo;generate a list one hundred 2&rsquo;s and for each item in the list, generate a random integer less that 2&rdquo;. This will return a random list of 100 items made up of exclusively 1&rsquo;s and 0&rsquo;s looking like <code>0 0 1 1 0 0 1 1 1 0 0 1 0 1 0 1 1 0 1 0 1 1 0 1 ...</code>. We then store this in a variable called <code>indices</code> using <code>=:</code></p><p>This is what we shall use as our indices.</p><h3 id=use-indices-to-create-list-of--1--1-integers>Use indices to create list of -1 & +1 integers. <a href=#use-indices-to-create-list-of--1--1-integers class=hash>#</a></h3><p>In line 3, we use our list of 0&rsquo;s and 1&rsquo;s as indices to generate a random walk (random list made up of -1&rsquo;s & +1&rsquo;s).
To do this, we use the symbol <code>{</code> in <code>indices { _1 1</code> that takes in two sets of values, first is the variable <code>indices</code> which is a list of randomly generated 1&rsquo;s & 0&rsquo;s. On the other side of <code>{</code> is <code>_1 1</code>, which represent the directions of our random walk <code>_1</code> for <code>-1</code> (down) and <code>1</code> for <code>+1</code> or (up).</p><p>What <code>{</code> does is that it &ldquo;pulls&rdquo; items from a list given an index.
The list <code>_1 1</code> has the indices <code>0</code> for <code>_1</code> and <code>1</code> for <code>1</code>, recall that an index refers to the position of an item in the list. So the statement <code>0 { _1 1</code> would return <code>_1</code> and <code>1 { _1 1</code> returns <code>1</code> from the list.</p><p>A list of indices would also return a list of items, for instance <code>1 0 0 1 { _1 1</code> would return <code>1 _1 _1 1</code>. Which is similar to what <code>indices { _1 1</code> is doing. Since <code>indices</code> is a list of random one hundred 1&rsquo;s and 0&rsquo;s it will also randomly pull out a list of <code>_1</code> and <code>1</code> thus giving us a list like <code>_1 _1 1 1 _1 _1 _1 _1 _1 _1 1 _1 ...</code> up to the one hundredth index. Which is the random walk of 100 steps.</p><p>We also store this list into a variable <code>walks</code> using <code>=:</code>.</p><h3 id=compute-the-synthetic-prices>Compute the synthetic prices. <a href=#compute-the-synthetic-prices class=hash>#</a></h3><p>In line 4 we use <code>+/\</code> the running sum of the random walk. For example <code>+/\ 1 1 1 1 1 1 1</code> computes the running sum of seven 1&rsquo;s, which gives us <code>1 2 3 4 5 6 7</code>. Which is exactly what we do with <code>+/\ walks</code>.</p><p>Since <code>walks</code> is made up of randomly generated <code>_1</code> and <code>1</code>, it&rsquo;s running sum will equally fluctuate up and down. The running sum of <code>1 _1 1 _1 _1 _1 1 1 1 _1 _1</code> will look like <code>1 0 1 0 _1 _2 _1 0 1 0 _1</code></p><p>The running sum (synthetic price) <code>+/\ walks</code> is then stored inside the variable <code>running_sum</code> with <code>=:</code></p><h2 id=a-random-walk-in-2-lines>A random walk in 2 lines. <a href=#a-random-walk-in-2-lines class=hash>#</a></h2><p>This post was supposed how to create a random walk in 2 lines of J. So below is the exact code above refactored to run in two lines.</p><pre><code class=language-j>load 'plot'              NB. Import the plot library
plot +/\ (?100#2) { _1 1 NB. Plot synthetic price/ random walk
</code></pre><h3 id=adjusting-step-size>Adjusting step size <a href=#adjusting-step-size class=hash>#</a></h3><p><code>100</code> denotes the number of steps the random walk takes. The more the steps the closer to actual stock prices the plot will look like.</p><h4 id=random-walk-of-100-steps>Random Walk of 100 steps <a href=#random-walk-of-100-steps class=hash>#</a></h4><p><img src=/files/8-random-walk-in-2-lines-of-j/random-walks/100.png alt="Random Walk of 100 steps" loading=lazy></p><h4 id=random-walk-of-200-steps>Random Walk of 200 steps <a href=#random-walk-of-200-steps class=hash>#</a></h4><p><img src=/files/8-random-walk-in-2-lines-of-j/random-walks/200.png alt="Random Walk of 200 steps" loading=lazy></p><h4 id=random-walk-of-500-steps>Random Walk of 500 steps <a href=#random-walk-of-500-steps class=hash>#</a></h4><p><img src=/files/8-random-walk-in-2-lines-of-j/random-walks/500.png alt="Random Walk of 500 steps" loading=lazy></p><h4 id=random-walk-of-1000-steps>Random Walk of 1,000 steps <a href=#random-walk-of-1000-steps class=hash>#</a></h4><p><img src=/files/8-random-walk-in-2-lines-of-j/random-walks/1000.png alt="Random Walk of 1,000 steps" loading=lazy></p><h4 id=random-walk-of-10000-steps>Random Walk of 10,000 steps <a href=#random-walk-of-10000-steps class=hash>#</a></h4><p><img src=/files/8-random-walk-in-2-lines-of-j/random-walks/10000.png alt="Random Walk of 10,000 steps" loading=lazy></p></span><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//asindu.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section><hr><footer><small><span style="font-family:courier new,Courier,monospace">∆ Built with <a style=color:#7fffd4 href=https://gohugo.io>hugo</a> & <a style=color:#7fffd4 href=https://github.com/ronv/lines>lines</a>.</span></small><p><small><span style="font-family:courier new,Courier,monospace"><a style=color:#7fffd4 href=/contact-us>Contact Us</a> |
<a style=color:#7fffd4 href=privacy-policy.html>Privacy Policy</a> |
<a style=color:#7fffd4 href=terms-and-conditions.html>Terms & Conditions</a></span></small></p><nav><ul><li>© 2024 Asindu Drileba.</li></ul></nav></footer></main></body></html>